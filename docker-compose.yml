services:
  app:
    build: .
    ports:
      - "8000:8000"
    volumes:
      - hf-cache:/root/.cache/huggingface
      - ultralytics-cache:/root/.config/Ultralytics
    environment:
      - DEVICE=cpu
      - INPAINT_STEPS=8
      - GUIDANCE_SCALE=7.5
      - HF_HUB_DISABLE_PROGRESS_BARS=1
      - HF_HUB_DISABLE_TELEMETRY=1

volumes:
  hf-cache:
  ultralytics-cache:
